"use strict";angular.module("primeRestaurantsApp",["ngCookies","ngResource","ngSanitize","ngRoute","google-maps"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/restaurant/:id",{templateUrl:"views/detail.html",controller:"DetailCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("googleMaps",[]).directive("googleMap",function(){return{restrict:"E",replace:!0,template:'<div style="width: 100%; height: 100%"></div>',scope:{center:"=",zoom:"=",initZoom:"@",markers:"="},controller:["$scope",function(a){this.getMap=function(){return a.map},this.addMarker=function(b){var c=new google.maps.Marker({position:new google.maps.LatLng(b.lat,b.lng),map:this});a.markers(c)}}],link:function(a,b){if(!angular.isDefined(a.center)||!angular.isDefined(a.zoom))return console.error("Mandatory attributes not configured for initializing a Google Maps canvas"),void 0;var c={lat:47.626118,lng:-122.332817},d={zoom:10,center:new google.maps.LatLng(c.lat,c.lng)},e=new google.maps.Map(b[0],d);a.$parent.maps=e,google.maps.event.addListener(e,"dragend",function(){console.log("fire!")}),google.maps.event.addListener(e,"zoom_changed",function(){console.log("fire!")}),a.$watch("center",function(a,b){a!==b&&console.log("center changed")},!0),a.$watch("zoom",function(a,b){a!==b&&(e.setZoom(a),console.log("zoom changed"))},!0),a.$watch("markers",function(a,b){a!==b&&console.log(a.length)}),b.on("$destroy",function(){e=null,console.log("canvas destroyed")}),b.on("focusout",function(){console.log("scroll")}),b.on("mousedown",function(){console.log("mousedown")}),console.log("canvas created")}}}),angular.module("primeRestaurantsApp").controller("MainCtrl",["$scope","$http","$filter",function(a,b,c){angular.extend(a,{filteredRestaurants:[],map:{center:{latitude:47.626117,longitude:-122.332817},zoom:10,events:{},markers:[]}}),b.get("data/restaurants.json").success(function(b){a.restaurants=b,console.log(a),a.$watch("query",function(b){var d=c("filter")(a.restaurants,b);a.filteredRestaurants=d,console.log("query: "+b)})}),a.log=function(){console.log("hello")},a.moveToTop=function(a){var b=$("#listContainer"),c=b.scrollTop()+$("#"+a).position().top;console.log("Moving list to "+a+" by "+c),b.animate({scrollTop:c},500)}}]),angular.module("primeRestaurantsApp").controller("DetailCtrl",["$scope","$http","$routeParams","$filter",function(a,b,c,d){a.map={zoom:18},a.restaurant={latitude:47.626117,longitude:-122.332817},b.get("data/restaurants.json").success(function(b){var e=c.id;a.restaurant=d("filter")(b,{id:e},!0)[0]}),console.log(a)}]);